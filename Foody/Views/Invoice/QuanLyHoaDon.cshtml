@using Foody.Models
@model PagedList.IPagedList<Invoice>
@using PagedList.Mvc

@{
    ViewBag.Title = "QuanLyHoaDon";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<style>
    .stt-invoice {
        background: #beff00;
        border: solid 3px #ddd;
    }
</style>

@section menuleft{
    @Html.Action("MenuStoreAdmin", "Store", new { StoreID = ViewBag.StoreID })
}
<h2 style="text-align:center">Quản Lý Hóa Đơn</h2>

<div class="table-responsive">
    <table class="table display nowrap" table id="example" cellspacing="0">
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.First().OrderDate)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.First().DeliveryDate)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.First().CustomerName)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.First().CustomerPhone)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.First().AddressDelivery)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.First().Sale)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.First().ShippingFee)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.First().ServiceChange)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.First().TotalPrice)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.First().Status)
            </th>
            <th class="col-xs-2"></th>
        </tr>

        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.OrderDate)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.DeliveryDate)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.CustomerName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.CustomerPhone)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.AddressDelivery)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Sale)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.ShippingFee)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.ServiceChange)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.TotalPrice)
                </td>
                <td class="col-xs-2">
                    <span id="DonMoi_@item.InvoiceID" class="stt-invoice">@Html.ActionLink("Đơn mới", "EditStt", new { InvoiceID = item.InvoiceID, status = 0, storeID = ViewBag.StoreID }) </span>
                    <span id="XacThuc_@item.InvoiceID"> @Html.ActionLink("Xác thực", "EditStt", new { InvoiceID = item.InvoiceID, status = 1, storeID = ViewBag.StoreID }) </span>
                    <span id="CheBien_@item.InvoiceID">  @Html.ActionLink("Chế biến", "EditStt", new { InvoiceID = item.InvoiceID, status = 2, storeID = ViewBag.StoreID })</span>
                    <span id="VanChuyen_@item.InvoiceID">   @Html.ActionLink("Vận chuyển", "EditStt", new { InvoiceID = item.InvoiceID, status = 3, storeID = ViewBag.StoreID }) </span>
                    <span id="HoanTat_@item.InvoiceID">  @Html.ActionLink("Hoàn tất", "EditStt", new { InvoiceID = item.InvoiceID, status = 4, storeID = ViewBag.StoreID }) </span>
                    <span id="HuyBo_@item.InvoiceID">  @Html.ActionLink("Hủy bỏ", "EditStt", new { InvoiceID = item.InvoiceID, status = 5, storeID = ViewBag.StoreID }) </span>

                </td>
                <td>

                    @Html.ActionLink("Xem", "InvoiceDetail", new { StoreID=ViewBag.StoreID,InvoiceID = item.InvoiceID,page=1 })

                </td>
            </tr>
        }

    </table>
</div>
